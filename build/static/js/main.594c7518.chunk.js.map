{"version":3,"sources":["components/ErrorBoundry/ErrorBoundry.js","components/store/actionCreators/actionCreators.js","components/FinishWindow/FinishWindow.js","components/constans/constans.js","components/Spinner/Spinner.js","components/GameWindow/GameWindow.js","components/GamePlay/GamePlay.js","components/actions/asyncActions.js","components/Main-window/MainWindow.js","App.js","components/store/reducers/gameReducer/gameReducer.js","components/store/reducers/mainReducer/mainReducer.js","components/store/reducers/index.js","components/store/index.js","index.js"],"names":["ErrorBoundry","state","hasError","this","setState","props","children","React","Component","actionCreators","toGame","type","toMenu","toFinish","setLang","lang","payload","setTextSize","size","setResults","speed","accuracy","setText","text","setLoading","loading","FinishWindow","useSelector","gameReducer","dispatch","useDispatch","className","id","onClick","_ERROR_TEXT_","Spinner","GameWindow","isLoading","curentletter","error","clearParams","split","map","e","k","onFocus","document","activeElement","blur","GamePlay","mainReducer","textSize","useState","setCurentletter","setSpeed","sumTypeSpeed","setSumTypeSpeed","setAccuracy","setError","pastTimeShtamp","useRef","allKeyDown","useEffect","fetch","then","resp","regExp","replace","catch","fetchEngText","onKeyDown","event","repeat","key","code","current","timeStamp","Math","floor","length","addEventListener","removeEventListener","MainWindow","target","name","defaultChecked","htmlFor","App","isGame","isFinish","initialGameState","action","initialMainState","reducers","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"6RAEaA,EAAb,4MACEC,MAAQ,CACNC,UAAU,GAFd,uDAKE,WACEC,KAAKC,SAAS,CAAEF,UAAU,MAN9B,oBASE,WACE,OAAIC,KAAKF,MAAMC,SACN,uJAEFC,KAAKE,MAAMC,aAbtB,GAAkCC,IAAMC,WCQzBC,EAVQ,CACrBC,OAAQ,iBAAK,CAACC,KAAO,YACrBC,OAAQ,iBAAK,CAACD,KAAO,YACrBE,SAAU,iBAAK,CAACF,KAAO,cACvBG,QAAS,SAACC,GAAD,MAAS,CAACJ,KAAM,WAAYK,QAASD,IAC9CE,YAAa,SAACC,GAAD,MAAS,CAACP,KAAM,gBAAiBK,QAASE,IACvDC,WAAY,kBAAsB,CAACR,KAAM,cAAeK,QAAS,CAACI,MAAtD,EAAEA,MAA2DC,SAA7D,EAASA,YACrBC,QAAS,SAACC,GAAD,MAAS,CAACZ,KAAM,WAAYK,QAASO,IAC9CC,WAAY,SAACC,GAAD,MAAY,CAACd,KAAM,cAAeK,QAASS,KC2C1CC,G,MA9CM,WACnB,MAA4BC,aAAY,SAAC1B,GAAD,OAAWA,EAAM2B,eAAjDR,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SACTQ,EAAWC,cAEjB,OACE,qBAAKC,UAAU,cAAf,SACE,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,cACf,sBAAKA,UAAU,SAAf,UACE,qBAAKA,UAAU,oBACf,sBAAKA,UAAU,eAAf,UACE,mBAAGA,UAAU,kBAAb,iCACA,mBAAGA,UAAU,kBAAb,0LACA,sBAAKA,UAAU,6DAAf,UACE,gCACE,qBAAKA,UAAU,QAAf,+DACA,sBAAKA,UAAU,QAAf,UACE,sBAAMA,UAAU,kBAAhB,SAAmCX,IADrC,yCAIF,gCACE,qBAAKW,UAAU,QAAf,+DACA,sBAAKA,UAAU,kBAAf,UACE,+BAAOV,IADT,aAKJ,wBACEW,GAAG,SACHrB,KAAK,SACLoB,UAAU,iDACVE,QAAS,WACPJ,EAASpB,EAAeG,UACxBiB,EAASpB,EAAea,QAAQ,KAChCO,EAASpB,EAAee,YAAW,KAPvC,sE,OChCCU,EACX,6jFCGWC,G,MAAU,WACrB,OACE,qBAAKJ,UAAU,UAAf,SACE,qBAAKA,UAAU,uCAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,gCCgEKK,EArEI,SAAC/B,GAClB,IAAQgC,EACNhC,EADMgC,UAAWd,EACjBlB,EADiBkB,KAAMe,EACvBjC,EADuBiC,aAAcC,EACrClC,EADqCkC,MAAOnB,EAC5Cf,EAD4Ce,MAAOC,EACnDhB,EADmDgB,SAAUmB,EAC7DnC,EAD6DmC,YAEzDX,EAAWC,cAEjB,OACE,sBAAKC,UAAU,2BAAf,UACE,qBAAKA,UAAU,qDAAf,SACGM,EACC,cAAC,EAAD,IAEA,qBAAKN,UAAU,UAAf,SACGR,EAAKkB,MAAM,IAAIC,KAAI,SAACC,EAAGC,GACtB,OACE,sBAEEb,UAAS,iBAAYa,IAAMN,EAAe,QAAU,KAA3C,YACPC,GAASK,IAAMN,EAAe,OAAS,MAH3C,SAMGK,GALIC,UAYjB,sBAAKb,UAAU,kBAAf,UACE,sBAAKA,UAAU,8CAAf,UACE,sBAAKA,UAAU,GAAf,UACE,qBAAKA,UAAU,QAAf,+DACA,sBAAKA,UAAU,QAAf,UACE,sBAAMA,UAAU,kBAAhB,SAAmCX,IADrC,yCAIF,sBAAKW,UAAU,SAAf,UACE,qBAAKA,UAAU,QAAf,+DACA,sBAAKA,UAAU,kBAAf,UACE,+BAAOV,IADT,cAKJ,wBACEW,GAAG,SACHrB,KAAK,SACLoB,UAAU,iDACVE,QAASO,EACTK,QAAS,SAACF,GAAD,OAAOG,SAASC,cAAcC,QALzC,kDASA,wBACEhB,GAAG,QACHrB,KAAK,SACLoB,UAAU,yDACVE,QAAS,WACPJ,EAASpB,EAAeG,UACxBiB,EAASpB,EAAea,QAAQ,KAChCO,EAASpB,EAAee,YAAW,IACnCgB,KARJ,2ECkDOS,EAjGE,WACf,MAA4BtB,aAAY,SAAC1B,GAAD,OAAWA,EAAM2B,eAAjDL,EAAR,EAAQA,KAAMc,EAAd,EAAcA,UACd,EAA2BV,aAAY,SAAC1B,GAAD,OAAWA,EAAMiD,eAAhDnC,EAAR,EAAQA,KAAMoC,EAAd,EAAcA,SAERtB,EAAWC,cACjB,EAAwCsB,mBAAS,GAAjD,mBAAOd,EAAP,KAAqBe,EAArB,KACA,EAA0BD,mBAAS,GAAnC,mBAAOhC,EAAP,KAAckC,EAAd,KACA,EAAwCF,mBAAS,GAAjD,mBAAOG,EAAP,KAAqBC,EAArB,KACA,EAAgCJ,mBAAS,KAAzC,mBAAO/B,EAAP,KAAiBoC,EAAjB,KACA,EAA0BL,oBAAS,GAAnC,mBAAOb,EAAP,KAAcmB,EAAd,KAEMC,EAAiBC,iBAAO,GACxBC,EAAaD,iBAAO,GAE1BE,qBAAU,WCnBe,IAAC5C,EDoBxBW,EACW,YAATd,GCrBsBG,EDqBWiC,ECpB9B,SAACtB,GACNkC,MAAM,+CAAD,OAAgD7C,IAClD8C,MAAK,SAACC,GAAD,OAAUA,EAAK1C,UACpByC,MAAK,SAACzC,GACL,IAAM2C,EAAS,gBACfrC,EACEpB,EAAea,QAAQC,EAAK4C,QAAQD,EAAQ,IAAIC,QAAQD,EAAQ,SAGnEE,OAAM,SAACzB,GACNd,EAASpB,EAAea,QAAQY,SAIZ,SAAChB,GAC3B,OAAO,SAACW,GACNkC,MAAM,0DAAD,OACuD7C,EADvD,iBAGF8C,MAAK,SAACC,GAAD,OAAUA,EAAK1C,UACpByC,MAAK,SAACzC,GACLM,EAASpB,EAAea,QAAQC,OAEjC6C,OAAM,SAACzB,GACNd,EAASpB,EAAea,QAAQY,QDJWmC,CAAalB,MAE3D,IAEHW,qBAAU,WACR,IAAMQ,EAAY,SAACC,GACZA,EAAMC,SAEPD,EAAME,MAAQlD,EAAKe,IACJ,aAAfiC,EAAMG,MACS,cAAfH,EAAMG,MACS,eAAfH,EAAMG,MAENhB,GAAS,GAGPa,EAAME,MAAQlD,EAAKe,KACU,IAA3BqB,EAAegB,UACjBnB,EACEe,EAAMK,UAAYjB,EAAegB,QAAUpB,GAE7CD,EACmB,IAAjBhB,GAAuC,IAAjBiB,EAClBsB,KAAKC,MAAM,IAAMvB,EAAejB,EAAe,MAC/C,IAIRe,EAAgBf,EAAe,GAC/BqB,EAAegB,QAAUJ,EAAMK,UAC/BlB,GAAS,GAELpB,IAAiBf,EAAKwD,OAAS,IACjClD,EAASpB,EAAeU,WAAW,CAAEC,QAAOC,cAC5CQ,EAASpB,EAAeI,cAKX,aAAf0D,EAAMG,MACS,cAAfH,EAAMG,MACS,eAAfH,EAAMG,OAENb,EAAWc,UAEU,IAAjBrC,GACFmB,EACEoB,KAAKC,MAAOxC,GAAgBuB,EAAWc,QAAU,GAAM,SAQjE,OADA7B,SAASkC,iBAAiB,UAAWV,GAC9B,kBAAMxB,SAASmC,oBAAoB,UAAWX,OAavD,OACE,cAAC,EAAD,CACEjC,UAAWA,EACXd,KAAMA,EACNe,aAAcA,EACdC,MAAOA,EACPnB,MAAOA,EACPC,SAAUA,EACVmB,YAlBgB,WAClBa,EAAgB,GAChBC,EAAS,GACTE,EAAgB,GAChBC,EAAY,KACZC,GAAS,GACTC,EAAegB,QAAU,EACzBd,EAAWc,QAAU,ME4CVO,EAlII,WACjB,IAAMrD,EAAWC,cACjB,EAA2BH,aAAY,SAAC1B,GAAD,OAAWA,EAAMiD,eAAhDnC,EAAR,EAAQA,KAAMoC,EAAd,EAAcA,SAERlC,EAAc,SAAC0B,GAGnB,OAFWA,EAAEwC,OAAOnD,IAGlB,IAAK,SACHH,EAASpB,EAAeQ,YAAY,IACpC,MACF,IAAK,SAML,QACEY,EAASpB,EAAeQ,YAAY,UAJtC,IAAK,SACHY,EAASpB,EAAeQ,YAAY,MAOpCH,EAAU,SAAC6B,GACf,IAAMX,EAAKW,EAAEwC,OAAOnD,GAEpB,OAAQA,GACN,IAAK,UAGL,IAAK,WACHH,EAASpB,EAAeK,QAAQkB,IAChC,MAEF,QACEH,EAASpB,EAAeK,QAAQ,cAItC,OACE,sBAAKiB,UAAU,cAAf,UACE,qBAAKA,UAAU,YACf,qBAAKA,UAAU,oBAAf,0PAIA,sBAAKA,UAAU,iBAAf,UACE,qBAAKA,UAAU,kBAAf,4JACA,sBAAKA,UAAU,aAAf,UACE,uBACEA,UAAU,mBACVpB,KAAK,QACLyE,KAAK,YACLpD,GAAG,SACHC,QAAShB,EACToE,eAA6B,IAAblC,IAElB,uBAAOpB,UAAU,mBAAmBuD,QAAQ,SAA5C,sBAIF,sBAAKvD,UAAU,aAAf,UACE,uBACEA,UAAU,mBACVpB,KAAK,QACLyE,KAAK,YACLpD,GAAG,SACHC,QAAShB,EACToE,eAA6B,IAAblC,IAElB,uBAAOpB,UAAU,mBAAmBuD,QAAQ,SAA5C,uBAIF,sBAAKvD,UAAU,aAAf,UACE,uBACEA,UAAU,mBACVpB,KAAK,QACLyE,KAAK,YACLpD,GAAG,SACHC,QAAShB,EACToE,eAA6B,IAAblC,IAElB,uBAAOpB,UAAU,mBAAmBuD,QAAQ,SAA5C,yBAMJ,sBAAKvD,UAAU,iBAAf,UACE,qBAAKA,UAAU,kBAAf,sEACA,sBAAKA,UAAU,aAAf,UACE,uBACEA,UAAU,mBACVpB,KAAK,QACLyE,KAAK,YACLpD,GAAG,UACHC,QAASnB,EACTuE,eAAyB,YAATtE,IAElB,uBAAOgB,UAAU,mBAAmBuD,QAAQ,UAA5C,oFAIF,sBAAKvD,UAAU,aAAf,UACE,uBACEA,UAAU,mBACVpB,KAAK,QACLyE,KAAK,YACLpD,GAAG,WACHC,QAASnB,EACTuE,eAAyB,aAATtE,IAElB,uBAAOgB,UAAU,mBAAmBuD,QAAQ,WAA5C,yGAKJ,qBAAKvD,UAAU,kBAAf,gEACA,wBACEA,UAAU,0CACVpB,KAAK,SACLqB,GAAG,YACHC,QAAS,kBAAMJ,EAASpB,EAAeC,WAJzC,6DCnGS6E,EAfH,WACV,MAA6B5D,aAAY,SAAC1B,GAAD,OAAWA,EAAMiD,eAAlDsC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SAEhB,OACE,eAAC,EAAD,WACGA,EAAW,cAAC,EAAD,IAAmB,KAC/B,qBAAK1D,UAAU,iBAAf,SACGyD,EAAS,cAAC,EAAD,IAAe,cAAC,EAAD,U,sBCd3BE,EAAmB,CACvBtE,MAAO,EACPC,SAAU,EACVE,KAAM,GACNc,WAAW,GAmBET,EAhBK,WAAuC,IAAtC3B,EAAqC,uDAA7ByF,EAAkBC,EAAW,uCAChDhF,EAAkBgF,EAAlBhF,KAAMK,EAAY2E,EAAZ3E,QAEd,OAAQL,GACN,IAAK,cACH,OAAO,2BAAKV,GAAZ,IAAmBmB,MAAOJ,EAAQI,MAAOC,SAAUL,EAAQK,WAC7D,IAAK,WACH,OAAO,2BAAKpB,GAAZ,IAAmBsB,KAAMP,EAASqB,WAAW,IAC/C,IAAK,cACH,OAAO,2BAAKpC,GAAZ,IAAmBoC,UAAWrB,IAEhC,QACE,OAAO,eAAKf,KCnBZ2F,EAAmB,CACvBJ,QAAQ,EACRC,UAAU,EACVtC,SAAU,EACVpC,KAAM,WAuBOmC,EApBK,WAAuC,IAAtCjD,EAAqC,uDAA7B2F,EAAkBD,EAAW,uCAChDhF,EAAkBgF,EAAlBhF,KAAMK,EAAY2E,EAAZ3E,QAEd,OAAQL,GACN,IAAK,UACH,OAAO,2BAAKV,GAAZ,IAAmBuF,QAAQ,IAC7B,IAAK,UACH,OAAO,2BAAKvF,GAAZ,IAAmBuF,QAAQ,EAAOC,UAAU,IAC9C,IAAK,YACH,OAAO,2BAAKxF,GAAZ,IAAmBwF,UAAU,IAC/B,IAAK,WACH,OAAO,2BAAKxF,GAAZ,IAAmBc,KAAMC,IAC3B,IAAK,gBACH,OAAO,2BAAKf,GAAZ,IAAmBkD,SAAUnC,IAE/B,QACE,OAAO,eAAKf,KClBH4F,EAFE,CAAEjE,cAAasB,eCC1B4C,EAAcC,YAAgBF,GACvBG,EAAQC,YAAYH,EAAaI,YAAgBC,MCC9DC,IAASC,OACP,cAAC,IAAD,CAAUL,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEFlD,SAASwD,eAAe,W","file":"static/js/main.594c7518.chunk.js","sourcesContent":["import React from \"react\";\n\nexport class ErrorBoundry extends React.Component {\n  state = {\n    hasError: false,\n  };\n\n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <h2>Упс... Что-то пошло не так.</h2>;\n    }\n    return this.props.children;\n  }\n}\n","const actionCreators = {\n  toGame: ()=>({type : 'TO_GAME'}),\n  toMenu: ()=>({type : 'TO_MENU'}),\n  toFinish: ()=>({type : 'TO_FINISH'}),\n  setLang: (lang)=>({type: 'SET_LANG', payload: lang}),\n  setTextSize: (size)=>({type: 'SET_TEXT_SIZE', payload: size}),\n  setResults: ({speed, accuracy})=>({type: 'SET_RESULTS', payload: {speed, accuracy}}),\n  setText: (text)=>({type: 'SET_TEXT', payload: text}),\n  setLoading: (loading)=>({type: 'SET_LOADING', payload: loading}),\n}\nexport default actionCreators;","import { useDispatch, useSelector } from \"react-redux\";\nimport actionCreators from \"../store/actionCreators/actionCreators\";\n\nimport \"./FinishWindow.css\";\n\nconst FinishWindow = () => {\n  const { speed, accuracy } = useSelector((state) => state.gameReducer);\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"finish-blur\">\n      <div className=\"finish-modal\">\n        <div className=\"modal-man\"></div>\n        <div className=\"dialog\">\n          <div className=\"dialog-triangle\"></div>\n          <div className=\"dialog-block\">\n            <p className=\"fs-24 bold-text\">Йоу!</p>\n            <p className=\"fs-24 bold-text\">Давай посмотрим твои результаты!</p>\n            <div className=\"row-dir bgc-light window-main-column dialog-results mgt-30\">\n              <div>\n                <div className=\"fs-16\">Скорость:</div>\n                <div className=\"fs-24\">\n                  <span className=\"fs-32 bold-text\">{speed}</span> зн/мин\n                </div>\n              </div>\n              <div>\n                <div className=\"fs-16\">Точность:</div>\n                <div className=\"fs-32 bold-text\">\n                  <span>{accuracy}</span>%\n                </div>\n              </div>\n            </div>\n            <button\n              id=\"finish\"\n              type=\"button\"\n              className=\"btn btn-primary window-main-btn btn-fat mgt-30\"\n              onClick={() => {\n                dispatch(actionCreators.toMenu());\n                dispatch(actionCreators.setText(\"\"));\n                dispatch(actionCreators.setLoading(true));\n              }}\n            >\n              Отлично!\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FinishWindow;\n","export const _ERROR_TEXT_ =\n  \"Возникла ошибка соеденения с сервером. Повторите попытку или продолжите с этим-же текстом. Причиной разрыва соединения может быть логическая или физическая потеря связи. Это происходит при сбое в кабельном сегменте, либо затрудненном доступе к сетевому коммутатору, мосту, маршрутизатору или глобальной сети. Протоколы верхнего уровня используют разнообразные таймеры — счетчики, которые по истечении заданного времени разрывают логическое соединение рабочей станции, если отклик от нее не получен.\";\n","import React from \"react\";\n\nimport \"./Spinner.css\";\n\nexport const Spinner = () => {\n  return (\n    <div className=\"spinner\">\n      <div className=\"loadingio-spinner-eclipse-o4362mbylv\">\n        <div className=\"ldio-7u5e9lfcd4h\">\n          <div></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { useDispatch } from \"react-redux\";\nimport actionCreators from \"../store/actionCreators/actionCreators\";\nimport { Spinner } from \"../Spinner/Spinner\";\n\nconst GameWindow = (props) => {\n  const { isLoading, text, curentletter, error, speed, accuracy, clearParams } =\n    props;\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"window-gameplay row-dir \">\n      <div className=\"container fit-content bgc-light window-main-column\">\n        {isLoading ? (\n          <Spinner />\n        ) : (\n          <div className=\"mainTxt\">\n            {text.split(\"\").map((e, k) => {\n              return (\n                <span\n                  key={k}\n                  className={`wblack ${k === curentletter ? \"wblue\" : null} ${\n                    error && k === curentletter ? \"wred\" : null\n                  }`}\n                >\n                  {e}\n                </span>\n              );\n            })}\n          </div>\n        )}\n      </div>\n      <div className=\"control-columns\">\n        <div className=\"control-params bgc-light window-main-column\">\n          <div className=\"\">\n            <div className=\"fs-16\">Скорость:</div>\n            <div className=\"fs-24\">\n              <span className=\"fs-32 bold-text\">{speed}</span> зн/мин\n            </div>\n          </div>\n          <div className=\"mgt-30\">\n            <div className=\"fs-16\">Точность:</div>\n            <div className=\"fs-32 bold-text\">\n              <span>{accuracy}</span> %\n            </div>\n          </div>\n        </div>\n        <button\n          id=\"replay\"\n          type=\"button\"\n          className=\"btn btn-primary window-main-btn btn-fat mgt-20\"\n          onClick={clearParams}\n          onFocus={(e) => document.activeElement.blur()}\n        >\n          Заново\n        </button>\n        <button\n          id=\"close\"\n          type=\"button\"\n          className=\"btn btn-outline-primary window-main-btn btn-fat mgt-20\"\n          onClick={() => {\n            dispatch(actionCreators.toMenu());\n            dispatch(actionCreators.setText(\"\"));\n            dispatch(actionCreators.setLoading(true));\n            clearParams();\n          }}\n        >\n          Завершить\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default GameWindow;\n","import { useState } from \"react\";\nimport { useRef } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchEngText, fetchRuText } from \"../actions/asyncActions\";\nimport actionCreators from \"../store/actionCreators/actionCreators\";\nimport GameWindow from \"../GameWindow/GameWindow\";\n\nconst GamePlay = () => {\n  const { text, isLoading } = useSelector((state) => state.gameReducer);\n  const { lang, textSize } = useSelector((state) => state.mainReducer);\n\n  const dispatch = useDispatch();\n  const [curentletter, setCurentletter] = useState(0);\n  const [speed, setSpeed] = useState(0);\n  const [sumTypeSpeed, setSumTypeSpeed] = useState(0);\n  const [accuracy, setAccuracy] = useState(100);\n  const [error, setError] = useState(false);\n\n  const pastTimeShtamp = useRef(0);\n  const allKeyDown = useRef(0);\n\n  useEffect(() => {\n    dispatch(\n      lang === \"ru-lang\" ? fetchRuText(textSize) : fetchEngText(textSize)\n    );\n  }, []);\n\n  useEffect(() => {\n    const onKeyDown = (event) => {\n      if (!event.repeat) {\n        if (\n          event.key !== text[curentletter] &&\n          event.code !== \"CapsLock\" &&\n          event.code !== \"ShiftLeft\" &&\n          event.code !== \"ShiftRight\"\n        ) {\n          setError(true);\n        }\n\n        if (event.key === text[curentletter]) {\n          if (pastTimeShtamp.current !== 0) {\n            setSumTypeSpeed(\n              event.timeStamp - pastTimeShtamp.current + sumTypeSpeed\n            );\n            setSpeed(\n              curentletter !== 0 && sumTypeSpeed !== 0\n                ? Math.floor(60 / (sumTypeSpeed / curentletter / 1000))\n                : 0\n            );\n          }\n\n          setCurentletter(curentletter + 1);\n          pastTimeShtamp.current = event.timeStamp;\n          setError(false);\n\n          if (curentletter === text.length - 1) {\n            dispatch(actionCreators.setResults({ speed, accuracy }));\n            dispatch(actionCreators.toFinish());\n          }\n        }\n\n        if (\n          event.code !== \"CapsLock\" &&\n          event.code !== \"ShiftLeft\" &&\n          event.code !== \"ShiftRight\"\n        ) {\n          allKeyDown.current++;\n\n          if (curentletter !== 0) {\n            setAccuracy(\n              Math.floor((curentletter / (allKeyDown.current - 1)) * 100)\n            );\n          }\n        }\n      }\n    };\n\n    document.addEventListener(\"keydown\", onKeyDown);\n    return () => document.removeEventListener(\"keydown\", onKeyDown);\n  });\n\n  const clearParams = () => {\n    setCurentletter(0);\n    setSpeed(0);\n    setSumTypeSpeed(0);\n    setAccuracy(100);\n    setError(false);\n    pastTimeShtamp.current = 0;\n    allKeyDown.current = 0;\n  };\n\n  return (\n    <GameWindow\n      isLoading={isLoading}\n      text={text}\n      curentletter={curentletter}\n      error={error}\n      speed={speed}\n      accuracy={accuracy}\n      clearParams={clearParams}\n    />\n  );\n};\n\nexport default GamePlay;\n","import { _ERROR_TEXT_ } from \"../constans/constans\";\nimport actionCreators from \"../store/actionCreators/actionCreators\";\n\nexport const fetchRuText = (size) => {\n  return (dispatch) => {\n    fetch(`https://fish-text.ru/get?format=html&number=${size}`)\n      .then((resp) => resp.text())\n      .then((text) => {\n        const regExp = /(<p>)|(<\\/p>)/;\n        dispatch(\n          actionCreators.setText(text.replace(regExp, \"\").replace(regExp, \"\"))\n        );\n      })\n      .catch((e) => {\n        dispatch(actionCreators.setText(_ERROR_TEXT_));\n      });\n  };\n};\nexport const fetchEngText = (size) => {\n  return (dispatch) => {\n    fetch(\n      `https://baconipsum.com/api/?type=meat-and-filler&paras=${size}&format=text`\n    )\n      .then((resp) => resp.text())\n      .then((text) => {\n        dispatch(actionCreators.setText(text));\n      })\n      .catch((e) => {\n        dispatch(actionCreators.setText(_ERROR_TEXT_));\n      });\n  };\n};\n","import { useDispatch, useSelector } from \"react-redux\";\nimport actionCreators from \"../store/actionCreators/actionCreators\";\n\nconst MainWindow = () => {\n  const dispatch = useDispatch();\n  const { lang, textSize } = useSelector((state) => state.mainReducer);\n\n  const setTextSize = (e) => {\n    const id = e.target.id;\n\n    switch (id) {\n      case \"s-size\":\n        dispatch(actionCreators.setTextSize(1));\n        break;\n      case \"m-size\":\n        dispatch(actionCreators.setTextSize(2));\n        break;\n      case \"l-size\":\n        dispatch(actionCreators.setTextSize(3));\n        break;\n      default:\n        dispatch(actionCreators.setTextSize(2));\n    }\n  };\n\n  const setLang = (e) => {\n    const id = e.target.id;\n\n    switch (id) {\n      case \"ru-lang\":\n        dispatch(actionCreators.setLang(id));\n        break;\n      case \"eng-lang\":\n        dispatch(actionCreators.setLang(id));\n        break;\n\n      default:\n        dispatch(actionCreators.setLang(\"ru-lang\"));\n    }\n  };\n\n  return (\n    <div className=\"window-main\">\n      <div className=\"man-img\"></div>\n      <div className=\"txt-header mgt-30\">\n        Привет! Хочешь узнать как быстро ты печатаешь?\n      </div>\n\n      <div className=\"row-dir mgt-40\">\n        <div className=\"mgr-24 txt-menu\">Тогда выбери размер текста:</div>\n        <div className=\"form-check\">\n          <input\n            className=\"form-check-input\"\n            type=\"radio\"\n            name=\"text-size\"\n            id=\"s-size\"\n            onClick={setTextSize}\n            defaultChecked={textSize === 1 ? true : false}\n          />\n          <label className=\"form-check-label\" htmlFor=\"s-size\">\n            Small\n          </label>\n        </div>\n        <div className=\"form-check\">\n          <input\n            className=\"form-check-input\"\n            type=\"radio\"\n            name=\"text-size\"\n            id=\"m-size\"\n            onClick={setTextSize}\n            defaultChecked={textSize === 2 ? true : false}\n          />\n          <label className=\"form-check-label\" htmlFor=\"m-size\">\n            Medium\n          </label>\n        </div>\n        <div className=\"form-check\">\n          <input\n            className=\"form-check-input\"\n            type=\"radio\"\n            name=\"text-size\"\n            id=\"l-size\"\n            onClick={setTextSize}\n            defaultChecked={textSize === 3 ? true : false}\n          />\n          <label className=\"form-check-label\" htmlFor=\"l-size\">\n            Large\n          </label>\n        </div>\n      </div>\n\n      <div className=\"row-dir mgt-30\">\n        <div className=\"mgr-24 txt-menu\">Укажи язык:</div>\n        <div className=\"form-check\">\n          <input\n            className=\"form-check-input\"\n            type=\"radio\"\n            name=\"text-lang\"\n            id=\"ru-lang\"\n            onClick={setLang}\n            defaultChecked={lang === \"ru-lang\" ? true : false}\n          />\n          <label className=\"form-check-label\" htmlFor=\"ru-lang\">\n            Русский язык\n          </label>\n        </div>\n        <div className=\"form-check\">\n          <input\n            className=\"form-check-input\"\n            type=\"radio\"\n            name=\"text-lang\"\n            id=\"eng-lang\"\n            onClick={setLang}\n            defaultChecked={lang === \"eng-lang\" ? true : false}\n          />\n          <label className=\"form-check-label\" htmlFor=\"eng-lang\">\n            Английский язык\n          </label>\n        </div>\n      </div>\n      <div className=\"mgt-30 txt-menu\">И начинай!</div>\n      <button\n        className=\"btn btn-primary btn-wide mgt-68 btn-fat\"\n        type=\"button\"\n        id=\"start-btn\"\n        onClick={() => dispatch(actionCreators.toGame())}\n      >\n        Начинаю!\n      </button>\n    </div>\n  );\n};\n\nexport default MainWindow;\n","import { useSelector } from \"react-redux\";\nimport \"./App.css\";\nimport { ErrorBoundry } from \"./components/ErrorBoundry/ErrorBoundry\";\nimport FinishWindow from \"./components/FinishWindow/FinishWindow\";\nimport GamePlay from \"./components/GamePlay/GamePlay\";\nimport MainWindow from \"./components/Main-window/MainWindow\";\n\nconst App = () => {\n  const { isGame, isFinish } = useSelector((state) => state.mainReducer);\n\n  return (\n    <ErrorBoundry>\n      {isFinish ? <FinishWindow /> : null}\n      <div className=\"wrap container\">\n        {isGame ? <GamePlay /> : <MainWindow />}\n      </div>\n    </ErrorBoundry>\n      \n    \n  );\n};\n\nexport default App;\n","const initialGameState = {\n  speed: 0,\n  accuracy: 0,\n  text: \"\",\n  isLoading: true,\n};\n\nconst gameReducer = (state = initialGameState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case \"SET_RESULTS\":\n      return { ...state, speed: payload.speed, accuracy: payload.accuracy };\n    case \"SET_TEXT\":\n      return { ...state, text: payload, isLoading: false };\n    case \"SET_LOADING\":\n      return { ...state, isLoading: payload };\n\n    default:\n      return { ...state };\n  }\n};\n\nexport default gameReducer;\n","const initialMainState = {\n  isGame: false,\n  isFinish: false,\n  textSize: 2,\n  lang: \"ru-lang\",\n};\n\nconst mainReducer = (state = initialMainState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case \"TO_GAME\":\n      return { ...state, isGame: true };\n    case \"TO_MENU\":\n      return { ...state, isGame: false, isFinish: false };\n    case \"TO_FINISH\":\n      return { ...state, isFinish: true };\n    case \"SET_LANG\":\n      return { ...state, lang: payload };\n    case \"SET_TEXT_SIZE\":\n      return { ...state, textSize: payload };\n\n    default:\n      return { ...state };\n  }\n};\n\nexport default mainReducer;\n","import gameReducer from \"./gameReducer/gameReducer\";\nimport mainReducer from \"./mainReducer/mainReducer\";\n\nconst reducers = { gameReducer, mainReducer };\n\nexport default reducers;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducers from \"./reducers\";\n\nconst rootReducer = combineReducers(reducers);\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./components/store\";\nimport React from \"react\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}