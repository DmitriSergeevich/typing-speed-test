(this["webpackJsonptyping-speed-test"]=this["webpackJsonptyping-speed-test"]||[]).push([[0],{25:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){"use strict";c.r(t);var n=c(5),a=c.n(n),s=c(3),i=(c(25),c(10)),r=c(11),l=c(14),d=c(13),o=c(1),j=c.n(o),u=c(0),b=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(i.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(r.a)(c,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(u.jsx)("h2",{children:"\u0423\u043f\u0441... \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}):this.props.children}}]),c}(j.a.Component),m={toGame:function(){return{type:"TO_GAME"}},toMenu:function(){return{type:"TO_MENU"}},toFinish:function(){return{type:"TO_FINISH"}},setLang:function(e){return{type:"SET_LANG",payload:e}},setTextSize:function(e){return{type:"SET_TEXT_SIZE",payload:e}},setResults:function(e){return{type:"SET_RESULTS",payload:{speed:e.speed,accuracy:e.accuracy}}},setText:function(e){return{type:"SET_TEXT",payload:e}},setLoading:function(e){return{type:"SET_LOADING",payload:e}}},h=(c(27),function(){var e=Object(s.c)((function(e){return e.gameReducer})),t=e.speed,c=e.accuracy,n=Object(s.b)();return Object(u.jsx)("div",{className:"finish-blur",children:Object(u.jsxs)("div",{className:"finish-modal",children:[Object(u.jsx)("div",{className:"modal-man"}),Object(u.jsxs)("div",{className:"dialog",children:[Object(u.jsx)("div",{className:"dialog-triangle"}),Object(u.jsxs)("div",{className:"dialog-block",children:[Object(u.jsx)("p",{className:"fs-24 bold-text",children:"\u0419\u043e\u0443!"}),Object(u.jsx)("p",{className:"fs-24 bold-text",children:"\u0414\u0430\u0432\u0430\u0439 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0442\u0432\u043e\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b!"}),Object(u.jsxs)("div",{className:"row-dir bgc-light window-main-column dialog-results mgt-30",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"fs-16",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c:"}),Object(u.jsxs)("div",{className:"fs-24",children:[Object(u.jsx)("span",{className:"fs-32 bold-text",children:t})," \u0437\u043d/\u043c\u0438\u043d"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"fs-16",children:"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c:"}),Object(u.jsxs)("div",{className:"fs-32 bold-text",children:[Object(u.jsx)("span",{children:c}),"%"]})]})]}),Object(u.jsx)("button",{id:"finish",type:"button",className:"btn btn-primary window-main-btn btn-fat mgt-30",onClick:function(){n(m.toMenu()),n(m.setText("")),n(m.setLoading(!0))},children:"\u041e\u0442\u043b\u0438\u0447\u043d\u043e!"})]})]})]})})}),O=c(4),f="\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0435\u043d\u0435\u043d\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u0438\u043b\u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435 \u0441 \u044d\u0442\u0438\u043c-\u0436\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u043c. \u041f\u0440\u0438\u0447\u0438\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u044b\u0432\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0438\u043b\u0438 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u043e\u0442\u0435\u0440\u044f \u0441\u0432\u044f\u0437\u0438. \u042d\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043f\u0440\u0438 \u0441\u0431\u043e\u0435 \u0432 \u043a\u0430\u0431\u0435\u043b\u044c\u043d\u043e\u043c \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0435, \u043b\u0438\u0431\u043e \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u043e\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u0435 \u043a \u0441\u0435\u0442\u0435\u0432\u043e\u043c\u0443 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0443, \u043c\u043e\u0441\u0442\u0443, \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0442\u043e\u0440\u0443 \u0438\u043b\u0438 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438. \u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u044b \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0440\u0430\u0437\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u043d\u044b\u0435 \u0442\u0430\u0439\u043c\u0435\u0440\u044b \u2014 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0440\u0430\u0437\u0440\u044b\u0432\u0430\u044e\u0442 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0447\u0435\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438, \u0435\u0441\u043b\u0438 \u043e\u0442\u043a\u043b\u0438\u043a \u043e\u0442 \u043d\u0435\u0435 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d.",x=(c(28),function(){return Object(u.jsx)("div",{className:"spinner",children:Object(u.jsx)("div",{className:"loadingio-spinner-eclipse-o4362mbylv",children:Object(u.jsx)("div",{className:"ldio-7u5e9lfcd4h",children:Object(u.jsx)("div",{})})})})}),p=function(e){var t=e.isLoading,c=e.text,n=e.curentletter,a=e.error,i=e.speed,r=e.accuracy,l=e.clearParams,d=Object(s.b)();return Object(u.jsxs)("div",{className:"window-gameplay row-dir ",children:[Object(u.jsx)("div",{className:"container fit-content bgc-light window-main-column",children:t?Object(u.jsx)(x,{}):Object(u.jsx)("div",{className:"mainTxt",children:c.split("").map((function(e,t){return Object(u.jsx)("span",{className:"wblack ".concat(t===n?"wblue":null," ").concat(a&&t===n?"wred":null),children:e},t)}))})}),Object(u.jsxs)("div",{className:"control-columns",children:[Object(u.jsxs)("div",{className:"control-params bgc-light window-main-column",children:[Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("div",{className:"fs-16",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c:"}),Object(u.jsxs)("div",{className:"fs-24",children:[Object(u.jsx)("span",{className:"fs-32 bold-text",children:i})," \u0437\u043d/\u043c\u0438\u043d"]})]}),Object(u.jsxs)("div",{className:"mgt-30",children:[Object(u.jsx)("div",{className:"fs-16",children:"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c:"}),Object(u.jsxs)("div",{className:"fs-32 bold-text",children:[Object(u.jsx)("span",{children:r})," %"]})]})]}),Object(u.jsx)("button",{id:"replay",type:"button",className:"btn btn-primary window-main-btn btn-fat mgt-20",onClick:l,onFocus:function(e){return document.activeElement.blur()},children:"\u0417\u0430\u043d\u043e\u0432\u043e"}),Object(u.jsx)("button",{id:"close",type:"button",className:"btn btn-outline-primary window-main-btn btn-fat mgt-20",onClick:function(){d(m.toMenu()),d(m.setText("")),d(m.setLoading(!0)),l()},children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c"})]})]})},g=function(){var e=Object(s.c)((function(e){return e.gameReducer})),t=e.text,c=e.isLoading,n=Object(s.c)((function(e){return e.mainReducer})),a=n.lang,i=n.textSize,r=Object(s.b)(),l=Object(o.useState)(0),d=Object(O.a)(l,2),j=d[0],b=d[1],h=Object(o.useState)(0),x=Object(O.a)(h,2),g=x[0],v=x[1],N=Object(o.useState)(0),y=Object(O.a)(N,2),k=y[0],S=y[1],T=Object(o.useState)(100),w=Object(O.a)(T,2),E=w[0],L=w[1],z=Object(o.useState)(!1),C=Object(O.a)(z,2),_=C[0],R=C[1],F=Object(o.useRef)(0),G=Object(o.useRef)(0);Object(o.useEffect)((function(){var e;r("ru-lang"===a?(e=i,function(t){fetch("https://fish-text.ru/get?format=html&number=".concat(e)).then((function(e){return e.text()})).then((function(e){var c=/(<p>)|(<\/p>)/;t(m.setText(e.replace(c,"").replace(c,"")))})).catch((function(e){t(m.setText(f))}))}):function(e){return function(t){fetch("https://baconipsum.com/api/?type=meat-and-filler&paras=".concat(e,"&format=text")).then((function(e){return e.text()})).then((function(e){t(m.setText(e))})).catch((function(e){t(m.setText(f))}))}}(i))}),[]),Object(o.useEffect)((function(){var e=function(e){e.repeat||(e.key!==t[j]&&"CapsLock"!==e.code&&"ShiftLeft"!==e.code&&"ShiftRight"!==e.code&&R(!0),e.key===t[j]&&(0!==F.current&&(S(e.timeStamp-F.current+k),v(0!==j&&0!==k?Math.floor(60/(k/j/1e3)):0)),b(j+1),F.current=e.timeStamp,R(!1),j===t.length-1&&(r(m.setResults({speed:g,accuracy:E})),r(m.toFinish()))),"CapsLock"!==e.code&&"ShiftLeft"!==e.code&&"ShiftRight"!==e.code&&(G.current++,0!==j&&L(Math.floor(j/(G.current-1)*100))))};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}));return Object(u.jsx)(p,{isLoading:c,text:t,curentletter:j,error:_,speed:g,accuracy:E,clearParams:function(){b(0),v(0),S(0),L(100),R(!1),F.current=0,G.current=0}})},v=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.mainReducer})),c=t.lang,n=t.textSize,a=function(t){switch(t.target.id){case"s-size":e(m.setTextSize(1));break;case"m-size":default:e(m.setTextSize(2));break;case"l-size":e(m.setTextSize(3))}},i=function(t){var c=t.target.id;switch(c){case"ru-lang":case"eng-lang":e(m.setLang(c));break;default:e(m.setLang("ru-lang"))}};return Object(u.jsxs)("div",{className:"window-main",children:[Object(u.jsx)("div",{className:"man-img"}),Object(u.jsx)("div",{className:"txt-header mgt-30",children:"\u041f\u0440\u0438\u0432\u0435\u0442! \u0425\u043e\u0447\u0435\u0448\u044c \u0443\u0437\u043d\u0430\u0442\u044c \u043a\u0430\u043a \u0431\u044b\u0441\u0442\u0440\u043e \u0442\u044b \u043f\u0435\u0447\u0430\u0442\u0430\u0435\u0448\u044c?"}),Object(u.jsxs)("div",{className:"row-dir mgt-40",children:[Object(u.jsx)("div",{className:"mgr-24 txt-menu",children:"\u0422\u043e\u0433\u0434\u0430 \u0432\u044b\u0431\u0435\u0440\u0438 \u0440\u0430\u0437\u043c\u0435\u0440 \u0442\u0435\u043a\u0441\u0442\u0430:"}),Object(u.jsxs)("div",{className:"form-check",children:[Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"text-size",id:"s-size",onClick:a,defaultChecked:1===n}),Object(u.jsx)("label",{className:"form-check-label",htmlFor:"s-size",children:"Small"})]}),Object(u.jsxs)("div",{className:"form-check",children:[Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"text-size",id:"m-size",onClick:a,defaultChecked:2===n}),Object(u.jsx)("label",{className:"form-check-label",htmlFor:"m-size",children:"Medium"})]}),Object(u.jsxs)("div",{className:"form-check",children:[Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"text-size",id:"l-size",onClick:a,defaultChecked:3===n}),Object(u.jsx)("label",{className:"form-check-label",htmlFor:"l-size",children:"Large"})]})]}),Object(u.jsxs)("div",{className:"row-dir mgt-30",children:[Object(u.jsx)("div",{className:"mgr-24 txt-menu",children:"\u0423\u043a\u0430\u0436\u0438 \u044f\u0437\u044b\u043a:"}),Object(u.jsxs)("div",{className:"form-check",children:[Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"text-lang",id:"ru-lang",onClick:i,defaultChecked:"ru-lang"===c}),Object(u.jsx)("label",{className:"form-check-label",htmlFor:"ru-lang",children:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"})]}),Object(u.jsxs)("div",{className:"form-check",children:[Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"text-lang",id:"eng-lang",onClick:i,defaultChecked:"eng-lang"===c}),Object(u.jsx)("label",{className:"form-check-label",htmlFor:"eng-lang",children:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"})]})]}),Object(u.jsx)("div",{className:"mgt-30 txt-menu",children:"\u0418 \u043d\u0430\u0447\u0438\u043d\u0430\u0439!"}),Object(u.jsx)("button",{className:"btn btn-primary btn-wide mgt-68 btn-fat",type:"button",id:"start-btn",onClick:function(){return e(m.toGame())},children:"\u041d\u0430\u0447\u0438\u043d\u0430\u044e!"})]})},N=function(){var e=Object(s.c)((function(e){return e.mainReducer})),t=e.isGame,c=e.isFinish;return Object(u.jsxs)(b,{children:[c?Object(u.jsx)(h,{}):null,Object(u.jsx)("div",{className:"wrap container",children:t?Object(u.jsx)(g,{}):Object(u.jsx)(v,{})})]})},y=c(6),k=c(12),S=c(2),T={speed:0,accuracy:0,text:"",isLoading:!0},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case"SET_RESULTS":return Object(S.a)(Object(S.a)({},e),{},{speed:n.speed,accuracy:n.accuracy});case"SET_TEXT":return Object(S.a)(Object(S.a)({},e),{},{text:n,isLoading:!1});case"SET_LOADING":return Object(S.a)(Object(S.a)({},e),{},{isLoading:n});default:return Object(S.a)({},e)}},E={isGame:!1,isFinish:!1,textSize:2,lang:"ru-lang"},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case"TO_GAME":return Object(S.a)(Object(S.a)({},e),{},{isGame:!0});case"TO_MENU":return Object(S.a)(Object(S.a)({},e),{},{isGame:!1,isFinish:!1});case"TO_FINISH":return Object(S.a)(Object(S.a)({},e),{},{isFinish:!0});case"SET_LANG":return Object(S.a)(Object(S.a)({},e),{},{lang:n});case"SET_TEXT_SIZE":return Object(S.a)(Object(S.a)({},e),{},{textSize:n});default:return Object(S.a)({},e)}},z={gameReducer:w,mainReducer:L},C=Object(y.b)(z),_=Object(y.c)(C,Object(y.a)(k.a));a.a.render(Object(u.jsx)(s.a,{store:_,children:Object(u.jsx)(N,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.594c7518.chunk.js.map